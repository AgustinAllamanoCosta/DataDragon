FROM agustinallamano/zkp:latest
WORKDIR /src
COPY ./src/api ./api
COPY ./src/__init__.py .
COPY ./src/main.py .
COPY ./src/requirements.txt .
COPY ./src/zkp/api ./zkp/api
COPY ./src/endpoint ./endpoint

RUN pip3 install -r ./requirements.txt

ENV LC_ALL=C.UTF-8 
ENV LANG=C.UTF-8

EXPOSE 80

CMD ["uvicorn", "main:app", "--host=0.0.0.0", "--port=80"]
